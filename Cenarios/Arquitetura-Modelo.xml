<!-- Arquivo de Arquitetura Modelo com comentários -->

<!-- Cabeçalho do arquivo XML, que deve ser igual em todos os arquivos XML carregados pelo OA Amnesia -->

<!-- Início de Cabeçalho -->
<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE AmnesiaConfiguration SYSTEM "Configuration/amnesia.dtd">
<?xml-stylesheet type="text/css" href="teste.css"?>
<!-- Fim do Cabeçalho -->

<!-- Início da configuração -->
<AmnesiaConfiguration>

    <!-- 
        Seção do processador que acessa a hierarquia de memória.
        Mesmo que os acessos sejam definidos por um arquivo de rastro,
        é necessário manter esta seção preenchida.
    -->
    <Processor>
        <processorContains>0</processorContains>
        <createTraceFile>0</createTraceFile>
    </Processor>

    <!-- 
        Informações de tamanho da palavra em BYTES.
        Os valores de <wordSize> devem ser iguais nas tags <Trace> e <CPU>.
    -->
    <Trace>
        <wordSize>4</wordSize>
    </Trace>
    <CPU>
        <wordSize>4</wordSize>
    </CPU>

    <!-- 
        Configuração da memória principal:
            - <blockSize>: deve ter o mesmo valor que <lineSize> da <Cache>
            - <memorySize>: tamanho total da memória em bytes
            - tempos de acesso em ciclos
    -->
    <MainMemory>
        <blockSize>1</blockSize>
        <memorySize>256</memorySize>
        <ciclesPerAccessRead>1</ciclesPerAccessRead>
        <ciclesPerAccessWrite>2</ciclesPerAccessWrite>
        <timeCicle>1</timeCicle>
    </MainMemory>

    <!-- 
        Configuração da cache:
            - <cacheType>: Unified ou Split
            - <lineSize>: tamanho da linha em bytes (igual ao <blockSize> da <MainMemory>)
            - <memorySize>: tamanho total da cache em bytes
            - <associativityLevel>: 1 = direto mapeado, 2 = 2-way, 4 = 4-way, etc.
            - <writePolicy>: WriteBack ou WriteThrough
            - <replacementAlgorithm>: LRU ou FIFO
    -->
    <Cache>
        <cacheType>Unified</cacheType>
        <unifiedCache>
            <lineSize>1</lineSize>
            <ciclesPerAccessRead>1</ciclesPerAccessRead>
            <ciclesPerAccessWrite>2</ciclesPerAccessWrite>
            <timeCicle>1</timeCicle>
            <memorySize>64</memorySize>
            <associativityLevel>1</associativityLevel>
            <writePolicy>WriteBack</writePolicy>
            <replacementAlgorithm>LRU</replacementAlgorithm>
        </unifiedCache>
    </Cache>

    <!-- 
        Configuração da memória virtual:
            - <pageSize>: tamanho da página (em número de palavras), 
                          deve ser múltiplo de 2 e menor que o tamanho da memória principal
            - <diskMemorySize>: deve ser múltiplo do tamanho da página
            - tempos de acesso ao disco em ciclos
            - <pageTableReplacementAlgorithm>: NRU, LRU ou FIFO
            - <TLB>: pode ser unified ou split, com substituição LRU ou FIFO
    -->
    <VirtualMemory>
        <pageSize>4</pageSize>
        <diskMemorySize>16</diskMemorySize>
        <diskCiclesPerAccessRead>10</diskCiclesPerAccessRead>
        <diskCiclesPerAccessWrite>20</diskCiclesPerAccessWrite>
        <timeCicle>100</timeCicle>
        <pageTableReplacementAlgorithm>FIFO</pageTableReplacementAlgorithm>
        <TLBType>unified</TLBType>
        <unifiedTLB>
            <memorySize>2</memorySize>
            <ciclesPerAccessRead>1</ciclesPerAccessRead>
            <ciclesPerAccessWrite>2</ciclesPerAccessWrite>
            <timeCicle>1</timeCicle>
            <replacementAlgorithm>FIFO</replacementAlgorithm>
        </unifiedTLB>
    </VirtualMemory>

</AmnesiaConfiguration>
<!-- 
    Fim da configuração.

    Este arquivo serve como modelo de configuração para o simulador Amnesia. 
    Para criar cenários diferentes, altere apenas os parâmetros desejados 
    (lineSize, memorySize, associativityLevel, writePolicy, replacementAlgorithm, etc.), 
    mantendo a estrutura geral inalterada.
-->
